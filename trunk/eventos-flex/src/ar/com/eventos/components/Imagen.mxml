<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas
	xmlns:mx="http://www.adobe.com/2006/mxml" 
	width="100%" height="100%"
	xmlns:components="ar.com.eventos.cumples.components.*"
	creationComplete="onCreationComplete();">
	<mx:Metadata>
		[Event(name="clickImage")]
	</mx:Metadata>
	<mx:Script>
		<![CDATA[
			import ar.com.eventos.cumples.beans.CategoriaFoto;
			import ar.com.odra.events.DataCarrierEvent;
			import mx.events.ToolTipEvent;
			import caurina.transitions.Tweener;
			
		[Bindable]
		public var categoriaFoto:CategoriaFoto;
		[Bindable]
		public var fotoProperty:String = 'foto';
		[Bindable]
		public var tooltipProperty:String = 'nombre';
		
		private function onCreationComplete():void {
			image.cambiarFoto(categoriaFoto.foto);
		}
		
		private function onMouseOver(e:Event):void {
			this.filters = [dropShadowFilter];
			/*
			Tweener.addTween(shareComponent,
			{
				alpha: 1,
	            time: 1,            
	            transition: "easeInOutQuart",
	            onComplete:function():void {  }
			});
			*/
		}
		private function onClickImage(event:Event):void {
			dispatchEvent(new DataCarrierEvent("clickImage", categoriaFoto));
		}
		
		private function onMouseOut(e:Event):void {
			this.filters = null;
			/*
			Tweener.addTween(shareComponent,
			{
				alpha: 0,
	            time: 0.5,            
	            transition: "easeInOutQuart",
	            onComplete:function():void {  }
			});
			*/
		}
		
		private function createCustomTooltip(event:ToolTipEvent):void{
			/*
			var bit:ButtonInfoTooltip = new ButtonInfoTooltip();
			bit.title = 'HOLA';
			bit.bodyText = 'Share';
			bit.classSource = imagen.imagen;
			bit.width = 300;
			event.toolTip = bit;
			*/
		}
		]]>
	</mx:Script>
	<mx:Canvas
		width="100%" height="100%"
		borderColor="#6f6f6f" borderStyle="solid" borderThickness="2"
		backgroundColor="#6f6f6f" backgroundAlpha="0.4">
		<components:VisualizadorImagen
			id="image"
			width="100%" height="100%"
			clickImage="onClickImage(event);"
			mouseOutImage="onMouseOut(event);"
			mouseOverImage="onMouseOver(event);"
			imagenTooltip="{categoriaFoto.nombre}"
			imagenInicial="@Embed(source='/assets/cumple15/images/imagepreview1.png')"
		/>
	</mx:Canvas>
	<!--
	<mx:Canvas
		id="shareComponent"
		width="50" height="30"
		cornerRadius="20"
		borderColor="#666666" borderStyle="solid" borderThickness="2"
		alpha="0"
		includeInLayout="false"
		x="-10" y="-10"
	/>
	-->
	<mx:DropShadowFilter
		id="dropShadowFilter"
		blurX="10" blurY="10"
		color="#000066"
		distance="3"
		quality="10"
	/>
</mx:Canvas>